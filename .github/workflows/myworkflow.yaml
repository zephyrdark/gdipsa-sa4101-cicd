# workflow
name: Workflow for GDIPSA SA4101 CI/CD Assignment

# trigger
on:
  push:
    branches:
      - release/v<digit>.<digit>    
# jobs
jobs:

  # name of jobs
  my-cicd-pipeline:

    # runner
    runs-on: ubuntu-latest

    # steps in this job
    steps:

    # 1. scan-code-for-vulnerabilities
    - name: Scan code for vulnerabilities
      uses: aquasecurity/trivy-action@master
      with:
        scan-type: 'fs'
        ignore-unfixed: true
        format: 'table'
        severity: 'CRITICAL'

    # 2. containerise-golang-application

    # 3. push-image-to-docker-hub

    # 4. digitally-sign-the-image

    # 5. send-notification-to-slack
